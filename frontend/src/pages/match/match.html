<ion-header>

  <ion-navbar hideBackButton>
    <ion-grid>
      <ion-row>
        <ion-col width-10>
          <ion-buttons left>
            <button ion-button (click)="cancelMatch()">
              <ion-icon name="md-close"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>
        <ion-col offset-33 width-10>
          <ion-title>
            Best of {{ bestOfN }}
          </ion-title>
        </ion-col>
        <ion-col class="align-right">
          <ion-spinner *ngIf="getUpdateInProgress()"></ion-spinner>
        </ion-col>
        <ion-col class="align-right" width-10>
          <button
            ion-button
            [disabled]="!tournament.canUndo() || getUpdateInProgress()"
            (click)="undo()"
          >
            <ion-icon name="md-undo"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item
          width-33
          class="goal-button"
          [style.background-color]="getTeamColor('left')"
          (click)="addGoal('left')"
        >
          <ion-grid>
            <ion-row>
              <ion-col>
                <p [style.color]="'white'">
                  {{ getTeamName('left') }}
                </p>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col *ngFor="let player of getPlayers('left')">
                <div class="player-avatar">
                  <img src="{{ player?.avatarImage }}">
                </div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col *ngFor="let player of getPlayers('left')">
                <p [style.color]="'white'">
                  {{ player?.name }}
                </p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-col>
      <ion-col width-33>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-card  class="score-card tournament-score-card">
                {{ getWins('left') }} : {{ getWins('right') }}
              </ion-card>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-card
                class="score-card match-score-card"
              >
                {{ getScore('left') }} : {{ getScore('right') }}
              </ion-card>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col offset-33 width-33>
              <button
                ion-button
                block
                class="swap-team-button"
                [disabled]="getUpdateInProgress()"
                (tap)="swapTeams()"
              >
                <ion-icon name="swap"></ion-icon>
              </button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
      <ion-col>
        <ion-item
          width-33
          class="goal-button"
          [style.background-color]="getTeamColor('right')"
          (click)="addGoal('right')"
        >
          <ion-grid>
            <ion-row>
              <ion-col>
                <p [style.color]="'white'">
                  {{ getTeamName('right') }}
                </p>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col *ngFor="let player of getPlayers('right')">
                <div class="player-avatar">
                  <img src="{{ player?.avatarImage }}">
                </div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col *ngFor="let player of getPlayers('right')">
                <p [style.color]="'white'">
                  {{ player?.name }}
                </p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
